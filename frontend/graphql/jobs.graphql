fragment JobInfo on job {
    id
    url
    name
    description
    path

    option_cut_start
    option_cut_end
    option_fade_in
    option_fade_out

    progress
    status
    assigned_worker
    error

    created_at
}

query WorkspaceJobs($workspaceId: uuid!) {
    job(where: { workspace_id: { _eq: $workspaceId } }, order_by: [{ assign_time: asc }, { created_at: asc }]) {
        ...JobInfo
    }
}

mutation AddJob($job: job_insert_input!) {
    insert_job_one(object: $job) {
        ...JobInfo
    }
}

mutation DeleteErrorJob($jobId: uuid!) {
    delete_job_by_pk(id: $jobId) {
        id
    }
}
